#ifndef _GEOMETRY_H_
#define _GEOMETRY_H_
//顶点属性
#define VERTEX4D_ATTR_NULL 0x0000
#define VERTEX4D_ATTR_POINT 0x0001//顶点
#define VERTEX4D_ATTR_NORMAL 0x0002//法线
#define VERTEX4D_ATTR_TEXTURE 0x0004//纹理

#define VERTEX_FLAGS_OVERRIDE_MASK 0xf000

#define VERTEX_FLAGS_OVERRIDE_CONSTANT 0x1000
#define VERTEX_FLAGS_OVERRIDE_EMISSIVE 0x1000
#define VERTEX_FLAGS_OVERRIDE_PURE 0x1000
#define VERTEX_FLAGS_OVERRIDE_FLAT 0x2000
#define VERTEX_FLAGS_OVERRIDE_GOURAUD 0x4000
#define VERTEX_FLAGS_OVERRIDE_TEXTURE 0x8000

#define VERTEX_FLAGS_INVERT_TEXTURE_U 0x0080 //反转纹理坐标u
#define VERTEX_FLAGS_INVERT_TEXTURE_V 0x0100 //反转纹理坐标v
#define VERTEX_FLAGS_INVERT_SWAP_UV 0x0800//将纹理坐标u和v互换

//多边形属性
#define POLY4D_ATTR_2SIDE 0x0001
#define POLY4D_ATTR_TRANSPARENT 0x0002
#define POLY4D_ATTR_8BITCOLOR 0x0004
#define POLY4D_ATTR_RGB16 0x0008
#define POLY4D_ATTR_RGB24 0x0010

#define POLY4D_ATTR_SHADE_MODE_PURE 0x0020
#define POLY4D_ATTR_SHADE_MODE_CONSTANT 0x0020//别名
#define POLY4D_ATTR_SHADE_MODE_FLAT 0x0040
#define POLY4D_ATTR_SHADE_MODE_GOURAUD 0x0080
#define POLY4D_ATTR_SHADE_MODE_PHONG 0x0100
#define POLY4D_ATTR_SHADE_MODE_FASTPHONG 0x0100
#define POLY4D_ATTR_SHADE_MODE_TEXTURE 0x0200

#define POLY4D_ATTR_ENABLE_MATERIAL 0x0800 //根据材质进行光照计算
#define POLY4D_ATTR_DISABLE_MATERIAL 0x1000 //根据多边形颜色进行光照

//多边形状态
#define POLY4D_STATE_NULL 0x0000
#define POLY4D_STATE_ACTIVE 0x0001
#define POLY4D_STATE_CLIPPED 0x0002
#define POLY4D_STATE_BACKFACE 0x0004
#define POLY4D_STATE_LIT 0x0008

//裁减物体
#define CULL_OBJECT_X_PLANE 0x0001//左右裁减面
#define CULL_OBJCET_Y_PLANE 0x0002//上下裁减面
#define CULL_OBJECT_Z_PLANE 0X0004//远近裁减
#define CULL_OBJECT_XYZ_PLANES (CULL_OBJECT_X_PLANE | CULL_OBJCET_Y_PLANE | CULL_OBJECT_Z_PLANE)

//物体属性
#define OBJECT4D_ATTR_SINGLE_FRAME 0x0001//单帧物体
#define OBJECT4D_ATTR_MULTI_FRAME 0x0002//多帧物体 网格动画
#define OBJECT4D_ATTR_TEXTURES 0x0004 //包含多变性纹理

//物体状态
#define OBJECT4D_STATE_NULL 0x0000
#define OBJECT4D_STATE_ACTIVE 0x0001
#define OBJECT4D_STATE_VISIBLE 0x0002
#define OBJECT4D_STATE_CULLED 0x0004

//材质
#define MAT_ATTR_2SIDED 0x0001
#define MAT_ATTR_TRANSPARENT 0x0002
#define MAT_ATTR_8BITCOLOR 0x0004
#define MAT_ATTR_RGB16 0x0008
#define MAT_ATTR_RGB24 0x0010

#define MAT_ATTR_SHADE_MODE_CONSTANT 0x0020
#define MAT_ATTR_SHADE_MODE_EMMISIVE 0x0020//别名
#define MAT_ATTR_SHADE_MODE_FLAT 0x0040
#define MAT_ATTR_SHADE_MODE_GOURAUD 0x0080
#define MAT_ATTR_SHADE_MODE_FASTPHONG 0x0100
#define MAT_ATTR_SHADE_MODE_TEXTURE 0x0200

//材质状态
#define MAT_STATE_ACTIVE 0x0001

#define MAX_MATERIALS 256

//光源
#define LIGHT_ATTR_AMBIENT 0x0001 //环境光
#define LIGHT_ATTR_INFINITE 0x0002 //无穷远光源
#define LIGHT_ATTR_POINT 0x0004 //点光源
#define LIGHT_ATTR_SPOTLIGHT1 0x0008 //简单聚光灯
#define LIGHT_ATTR_SPOTLIGHT2 0x0008 //复杂聚光灯

#define LIGHT_STATE_ON 1 //光源打开
#define LIGHT_STATE_OFF 0 //光源关闭

#define MAX_LIGHTS 8

enum CoordSelect
{
    TRANSFORM_LOCAL_ONLY,
    TRANSFORM_TRANS_ONLY,
    TRANSFORM_LOCAL_TO_TRANS
};

#define SET_BIT(value, mask) ((value) |= (mask))
#define RESET_BIT(value, mask) ((value) &= (~mask))

#endif //_GEOMETRY_H_
